{{ if eq (hugo.Environment) "development" -}}
  {{ $jquery := resources.Get "js/vendor/jquery/jquery.js" }}
  {{ $bootstrap := resources.Get "js/vendor/bootstrap/bootstrap.js" }}
  {{ $prism := resources.Get "js/vendor/prism/prism.js" }}
  {{ $autoloader := resources.Get "js/vendor/prism/plugins/autoloader/prism-autoloader.js" }}
  {{ $photoswipe := resources.Get "js/vendor/photoswipe/photoswipe.js" }}
  {{ $photoswipeui := resources.Get "js/vendor/photoswipe/photoswipe-ui-default.js" }}
  {{ $processing := resources.Get "js/vendor/processing/processing.js" }}
  {{ $lazysizes := resources.Get "js/vendor/lazysizes/lazysizes.js" -}}
  {{ $rrssb := resources.Get "js/vendor/rrssb/rrssb.js" }}
  {{ $experienceCarousel := resources.Get "js/experience-carousel.js" -}}
  {{ $slick := resources.Get "js/vendor/slick/slick.js" -}}
  {{ $app := resources.Get "js/app.js" -}}

  {{ $scripts := slice $jquery $bootstrap $prism $autoloader $photoswipe $photoswipeui $processing $lazysizes $rrssb $slick $app $experienceCarousel }}
  {{ $js := $scripts | resources.Concat "main.js" -}}
  <script src="{{ $js.Permalink }}" defer></script>
{{ else -}}
  {{ $jquery := resources.Get "js/vendor/jquery/jquery.min.js" }}
  {{ $bootstrap := resources.Get "js/vendor/bootstrap/bootstrap.min.js" }}
  {{ $prism := resources.Get "js/vendor/prism/prism.js" | minify }}
  {{ $autoloader := resources.Get "js/vendor/prism/plugins/autoloader/prism-autoloader.min.js" }}
  {{ $photoswipe := resources.Get "js/vendor/photoswipe/photoswipe.min.js" }}
  {{ $photoswipeui := resources.Get "js/vendor/photoswipe/photoswipe-ui-default.min.js" }}
  {{ $processing := resources.Get "js/vendor/processing/processing.min.js" }}
  {{ $lazysizes := resources.Get "js/vendor/lazysizes/lazysizes.min.js" -}}
  {{ $rrssb := resources.Get "js/vendor/rrssb/rrssb.min.js" }}
  {{ $experienceCarousel := resources.Get "js/experience-carousel.js" | minify -}}
  {{ $slick := resources.Get "js/vendor/slick/slick.min.js" -}}
  {{ $app := resources.Get "js/app.js" | minify -}}

  {{ $scripts := slice $jquery $bootstrap $prism $autoloader $photoswipe $photoswipeui $processing $lazysizes $rrssb $slick $app $experienceCarousel }}

  {{ $js := $scripts | resources.Concat "main.js" -}}
  {{ $secureJS := $js | resources.Fingerprint "sha512" -}}
  <script src="{{ $secureJS.Permalink }}" integrity="{{ $secureJS.Data.Integrity }}" crossorigin="anonymous" defer></script>
{{ end -}}
