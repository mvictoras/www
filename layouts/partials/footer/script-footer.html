{{ if eq (hugo.Environment) "development" -}}
  {{ $jquery := resources.Get "js/vendor/jquery/jquery.js" }}
  {{ $bootstrap := resources.Get "js/vendor/bootstrap/bootstrap.js" }}
  {{ $prism := resources.Get "js/vendor/prism/prism.js" }}
  {{ $autoloader := resources.Get "js/vendor/prism/plugins/autoloader/prism-autoloader.js" }}
  {{ $photoswipe := resources.Get "js/vendor/photoswipe/photoswipe.js" }}
  {{ $photoswipeui := resources.Get "js/vendor/photoswipe/photoswipe-ui-default.js" }}
  {{ $processing := resources.Get "js/vendor/processing/processing.js" }}
  {{ $lazysizes := resources.Get "js/vendor/lazysizes/lazysizes.js" -}}
  {{ $rrssb := resources.Get "js/vendor/rrssb/rrssb.js" }}
  {{ $gsap := resources.Get "js/vendor/gsap/gsap.js" }}
  {{ $velocity := resources.Get "js/vendor/velocity/velocity.js" }}
  {{ $scrollmagic := resources.Get "js/vendor/scrollmagic/uncompressed/ScrollMagic.js" }}
  {{ $scrollmagicAnimationGsap := resources.Get "js/vendor/scrollmagic/uncompressed/plugins/animation.gsap.js" }}
  {{ $scrollmagicAnimationVelocity := resources.Get "js/vendor/scrollmagic/uncompressed/plugins/animation.velocity.js" }}
  {{ $scrollmagicAddIndicators := resources.Get "js/vendor/scrollmagic/uncompressed/plugins/debug.addIndicators.js" }}
  {{ $scrollmagicJquery := resources.Get "js/vendor/scrollmagic/uncompressed/plugins/jquery.ScrollMagic.js" }}

  {{ $app := resources.Get "js/app.js" -}}

  {{ $scripts := slice $jquery $bootstrap $prism $autoloader $photoswipe $photoswipeui $processing $lazysizes $rrssb $gsap $velocity $scrollmagic $scrollmagicAnimationGsap $scrollmagicAnimationVelocity $scrollmagicAddIndicators $scrollmagicJquery $app }}
  {{ $js := $scripts | resources.Concat "main.js" -}}
  <script src="{{ $js.Permalink }}" defer></script>
{{ else -}}
  {{ $jquery := resources.Get "js/vendor/jquery/jquery.min.js" }}
  {{ $bootstrap := resources.Get "js/vendor/bootstrap/bootstrap.min.js" }}
  {{ $prism := resources.Get "js/vendor/prism/prism.js" | minify }}
  {{ $autoloader := resources.Get "js/vendor/prism/plugins/autoloader/prism-autoloader.min.js" }}
  {{ $photoswipe := resources.Get "js/vendor/photoswipe/photoswipe.min.js" }}
  {{ $photoswipeui := resources.Get "js/vendor/photoswipe/photoswipe-ui-default.min.js" }}
  {{ $processing := resources.Get "js/vendor/processing/processing.min.js" }}
  {{ $lazysizes := resources.Get "js/vendor/lazysizes/lazysizes.min.js" -}}
  {{ $rrssb := resources.Get "js/vendor/rrssb/rrssb.min.js" }}
  {{ $scrollmagic := resources.Get "js/vendor/scrollmagic/minified/ScrollMagic.min.js" }}
  {{ $gsap := resources.Get "js/vendor/gsap/gsap.min.js" }}
  {{ $velocity := resources.Get "js/vendor/velocity/velocity.min.js" }}
  {{ $scrollmagic := resources.Get "js/vendor/scrollmagic/uncompressed/ScrollMagic.min.js" }}
  {{ $scrollmagicAnimationGsap := resources.Get "js/vendor/scrollmagic/minified/plugins/animation.gsap.min.js" }}
  {{ $scrollmagicAnimationVelocity := resources.Get "js/vendor/scrollmagic/minifed/plugins/animation.velocity.min.js" }}
  {{ $scrollmagicAddIndicators := resources.Get "js/vendor/scrollmagic/minified/plugins/debug.addIndicators.min.js" }}
  {{ $scrollmagicJquery := resources.Get "js/vendor/scrollmagic/minified/plugins/jquery.ScrollMagic.min.js" }}

  {{ $app := resources.Get "js/app.js" | minify -}}

  {{ $scripts := slice $jquery $bootstrap $prism $autoloader $photoswipe $photoswipeui $processing $lazysizes $rrssb $gsap $velocity $scrollmagic $scrollmagicAnimationGsap $scrollmagicAnimationVelocity $scrollmagicAddIndicators $scrollmagicJquery $app }}

  {{ $js := $scripts | resources.Concat "main.js" -}}
  {{ $secureJS := $js | resources.Fingerprint "sha512" -}}
  <script src="{{ $secureJS.Permalink }}" integrity="{{ $secureJS.Data.Integrity }}" crossorigin="anonymous" defer></script>
{{ end -}}
